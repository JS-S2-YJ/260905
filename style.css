/* --- [수정] 이미지 저장 방지 (강력한 전역 적용) --- */
body {
    font-family: 'Noto Serif KR', serif;
    background-color: #f9f9f9;
    color: #333;
    line-height: 1.8;
    
    /* [수정] 스크롤 튕김 방지 (앱 같은 느낌) */
    overscroll-behavior-y: none;
    
    /* 1. 페이지 전체에서 꾹 눌렀을 때 메뉴(저장/공유) 금지 */
    -webkit-touch-callout: none !important;
    
    /* 2. 페이지 전체 드래그 금지 (텍스트 복사 필요하면 아래에서 풀기) */
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

/* 주소 복사는 가능해야 하니까 예외 처리 */
.map-info, .address-text, .account-info {
    -webkit-user-select: text !important;
    user-select: text !important;
}

/* 이미지 기본 설정 */
img {
    -webkit-user-drag: none !important;
}
/* --- [컨셉 수정] 비행기 티켓(Boarding Pass) 스타일 --- */
.container {
    max-width: 480px; margin: 0 auto; background-color: white;
    padding: 0; /* 패딩 제거 (티켓 헤더 위해) */
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    min-height: 100vh; text-align: center;
    border-radius: 20px; /* 둥근 모서리 */
    overflow: hidden;
    position: relative;
    border: 1px solid #e0e0e0;
}

/* 티켓 상단 헤더 (퍼스트 클래스 느낌) */
.ticket-header {
    background-color: #90caf9;
    color: white;
    padding: 20px;
    text-align: center;
    font-weight: bold;
    letter-spacing: 3px;
    text-transform: uppercase;
    border-bottom: 2px dashed white; /* 절취선 느낌 */
    position: relative;
}
.ticket-header::after {
    content: '✈️ WEDDING AIRLINES';
    display: block;
    font-size: 0.8rem;
    opacity: 0.8;
    margin-top: 5px;
}

/* 본문 패딩 다시 주기 */
.ticket-body {
    padding: 40px 20px;
}

/* 애니메이션 */
.fade-in-section { opacity: 0; transform: translateY(30px); transition: all 1s ease-out; }
.is-visible { opacity: 1; transform: none; }

/* 메인 디자인 */
.eng-date { 
    font-family: 'Courier New', Courier, monospace; /* 타자기 폰트 */
    font-weight: bold;
    color: #90caf9; 
    margin-bottom: 10px; 
}
.photo-area { margin-bottom: 30px; }

/* [수정] 메인 사진 래퍼 */
.main-photo-wrapper {
    width: 100%;
    /* 티켓 안의 사진 느낌 */
    border-radius: 10px; 
    overflow: hidden;
    position: relative;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    border: 5px solid white;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}
.main-photo {
    width: 100%;
    height: auto; /* [수정] 높이 자동 조절 */
    object-fit: cover;
    display: block;
    pointer-events: none; /* ⭐️ 핵심: 이미지 자체는 클릭/터치 무시 */
    -webkit-user-select: none;
}

.names h1 { font-size: 1.5rem; margin-bottom: 20px; }
.amp { color: #90caf9; margin: 0 5px; }
.intro-text { font-size: 0.95rem; color: #555; margin-bottom: 30px; }
/* 구분선 = 티켓 절취선 */
.divider { 
    border: none; 
    border-top: 2px dashed #ddd; 
    margin: 40px 10px; 
    position: relative; 
}
/* 절취선 양옆에 홈 파기 (티켓 느낌) */
.divider::before, .divider::after {
    content: '';
    position: absolute;
    top: -10px;
    width: 20px; height: 20px;
    background-color: #f9f9f9; /* 배경색과 동일하게 */
    border-radius: 50%;
    box-shadow: inset 2px 0 5px rgba(0,0,0,0.05);
}
.divider::before { left: -30px; }
.divider::after { right: -30px; }

/* ▼▼▼ 갤러리 섹션 (새로 추가됨) ▼▼▼ */
.gallery-section h2 {
    font-size: 1.2rem; color: #90caf9; margin-bottom: 15px; letter-spacing: 1px;
}
.gallery-container {
    display: flex;
    overflow-x: auto; /* 가로 스크롤 */
    scroll-snap-type: x mandatory; /* 딱딱 끊어지는 효과 */
    gap: 10px; padding-bottom: 10px;
    -ms-overflow-style: none; scrollbar-width: none; /* 스크롤바 숨김 */
}
.gallery-container::-webkit-scrollbar { display: none; }

/* [수정] 갤러리 아이템 래퍼 */
.gallery-item-wrapper {
    /* ▼ 크기 및 레이아웃 설정 이동 */
    width: 200px;
    height: 280px;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    scroll-snap-align: center;
    flex-shrink: 0;
    
    overflow: hidden;
    position: relative;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
}
.gallery-item {
    /* 이미지는 꽉 채우기만 함 */
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    pointer-events: none; /* ⭐️ 핵심 */
    -webkit-user-select: none;
}
.gallery-hint {
    font-size: 0.8rem; color: #aaa; margin-top: 5px;
}

/* 달력 및 기타 */
.calendar-section h2 { font-size: 1.4rem; margin-bottom: 5px; }
.time, .location { font-size: 1rem; color: #666; }
.d-day-box {
    margin-top: 30px;
    /* [수정] 버튼과 동일한 그라데이션 애니메이션 적용 */
    background: linear-gradient(45deg, #90caf9, #64b5f6, #42a5f5, #90caf9);
    background-size: 300% 300%;
    animation: gradientFlow 5s ease infinite; /* 버튼보다 조금 천천히 흐르게 */
    
    color: white;
    padding: 12px 30px; 
    min-width: 260px;
    border-radius: 50px;
    
    /* [수정] 완벽한 중앙 정렬을 위한 Flex + Margin Auto */
    display: flex;
    margin: 30px auto; /* 좌우 마진 자동으로 중앙 정렬 */
    width: fit-content; /* 내용물에 딱 맞게 */
    justify-content: center;
    align-items: center;
    
    font-weight: bold;
    font-size: 1rem;
    box-shadow: 0 4px 15px rgba(144, 202, 249, 0.3);
}
footer { margin-top: 50px; font-size: 0.8rem; color: #aaa; padding-bottom: 20px; }

/* --- 이미지 확대 팝업 (모달) --- */
.modal {
    display: none;
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    justify-content: center;
    align-items: center;
}

/* 확대 이미지 보호막 */
.modal-img-wrapper {
    /* 크기 제한을 이미지에게 넘김 */
    display: inline-flex; /* 내용물 크기에 딱 맞게 */
    position: relative;
    border-radius: 5px;
    box-shadow: 0 0 20px rgba(255,255,255,0.2);
    overflow: hidden;
    background-color: transparent; /* 배경 투명 */
}

/* 확대된 이미지 (실제 이미지) */
.modal-content {
    /* 이미지가 화면을 넘지 않도록 제한 */
    max-width: 90vw;
    max-height: 80vh;
    width: auto;  /* 비율 유지 */
    height: auto; /* 비율 유지 */
    
    object-fit: contain;
    pointer-events: none; /* 롱클릭 차단 */
    display: block;
}

/* X 닫기 버튼 */
.close-btn {
    position: absolute;
    top: 20px;
    right: 30px;
    color: #f1f1f1;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
    z-index: 10000;
}

/* 오시는 길 (약도) 이미지 래퍼 */
.map-image-wrapper {
    width: 100%;
    max-width: 340px;
    height: auto;
    display: block;
    margin: 0 auto;
    border-radius: 15px;
    border: 1px solid #eee;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    -webkit-tap-highlight-color: transparent;
}
.map-image {
    width: 100%;
    height: auto; /* [수정] 높이 자동 조절 */
    object-fit: cover;
    display: block;
    pointer-events: none; /* ⭐️ 핵심 */
    -webkit-user-select: none;
}

/* 중복 규칙 삭제됨 */

/* --- 방명록 --- */
.guestbook-section { margin: 40px 0; text-align: center; padding: 0 20px; }
.guestbook-section h2 { color: #90caf9; margin-bottom: 20px; }

.guestbook-form {
    display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px;
}
.guestbook-form input, .guestbook-form textarea {
    padding: 12px; 
    border: 1px solid #e3f2fd; /* 연한 하늘색 테두리 */
    border-radius: 10px;
    font-family: 'Noto Serif KR', serif;
    background-color: #fcfdfe;
    transition: all 0.3s ease;
}
.guestbook-form textarea {
    resize: none;      /* 드래그 크기 조절 방지 */
    min-height: 100px; /* 기본 높이 확보 */
}
.guestbook-form input:focus, .guestbook-form textarea:focus {
    outline: none;
    border-color: #90caf9;
    box-shadow: 0 0 8px rgba(144, 202, 249, 0.2);
}
.guestbook-form button {
    padding: 15px; 
    background-color: #ddd; /* 기본은 회색(비활성 느낌) */
    color: white; 
    border: none;
    border-radius: 50px; /* 둥글게 */
    cursor: pointer; 
    font-weight: bold;
    font-size: 1rem;
    transition: all 0.3s ease;
    width: 100%;
    margin-top: 10px;
}

/* 활성화(Active) 되었을 때 클래스 */
.btn-active {
    /* 1. 그라데이션 배경 (하늘색 계열) */
    background: linear-gradient(45deg, #90caf9, #64b5f6, #42a5f5, #90caf9);
    background-size: 300% 300%;
    
    /* 2. 그림자 빛나는 효과 (Glow) */
    box-shadow: 0 0 15px rgba(144, 202, 249, 0.6);
    
    /* 3. 애니메이션 실행 */
    animation: gradientFlow 3s ease infinite, pulseBtn 2s infinite;
}

@keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

@keyframes pulseBtn {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}

/* 메시지 카드 */
.msg-card {
    background-color: #f9f9f9; padding: 15px; border-radius: 10px;
    margin-bottom: 10px; text-align: left; border: 1px solid #eee;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
.msg-name { font-weight: bold; font-size: 0.9rem; color: #555; margin-bottom: 5px; }
.msg-text { font-size: 0.95rem; color: #333; white-space: pre-wrap; }
.msg-date { font-size: 0.7rem; color: #aaa; text-align: right; margin-top: 5px; }

/* [추가] 방명록 리스트 스크롤 영역 */
#guestbook-list {
    max-height: 400px; /* 카드 4~5개 높이 (카드당 약 80~100px) */
    overflow-y: auto;  /* 넘치면 스크롤 */
    overscroll-behavior: contain; /* [추가] 스크롤 체이닝 방지 (끝에 닿아도 부모 스크롤 안 됨) */
    padding: 5px;      /* 안쪽 여백 */
    
    /* 스크롤바 디자인 (크롬/사파리) */
    scrollbar-width: thin;
    scrollbar-color: #90caf9 #f0f0f0;
}
#guestbook-list::-webkit-scrollbar {
    width: 6px;
}
#guestbook-list::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 3px;
}
#guestbook-list::-webkit-scrollbar-thumb {
    background-color: #90caf9;
    border-radius: 3px;
}

#d-day-count {
    /* 1. 줄 간격을 1.1로 확 줄입니다 (글자가 거의 붙음) */
    line-height: 1.3;       
    text-align: center;
    text-shadow: 0 1px 2px rgba(0,0,0,0.15);
}

/* 윗줄: 멘트 */
.dd-phrase {
    font-size: 0.9rem;      /* 크기 살짝 줄임 (밸런스) */
    font-weight: 400;       
    opacity: 0.95;          
    display: block;         
    margin-bottom: 0;       /* ★ 중요: 아래 여백 제거 */
    padding-bottom: 2px;    /* 살짝만 뗌 (너무 붙으면 답답하니까 2px 정도) */
}

/* 아랫줄: 시간 */
.dd-time {
    font-size: 1.35rem;     /* 시간은 더 크게! */
    font-weight: 800;       
    letter-spacing: 0.5px;  
    margin-top: 0;          /* ★ 중요: 위 여백 제거 */
    display: block;         /* 블록으로 만들어서 확실하게 줄바꿈 */
}

/* --- [추가] 푸터 만든이 (무지개 애니메이션) --- */
.maker-name {
    margin-top: 5px;          /* 윗줄이랑 살짝 띄우기 */
    font-size: 0.85rem;       /* 크기 적당히 */
    font-weight: 900;         /* 글자 두껍게 (그래야 무지개가 잘 보임) */
    letter-spacing: 1px;      /* 자간 넓게 */
    
    /* 1. 무지개 그라데이션 배경 만들기 */
    background: linear-gradient(
        to right, 
        #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3, #ff0000
    );
    
    /* 2. 배경 크기를 2배로 늘림 (움직일 공간 확보) */
    background-size: 200% auto;
    
    /* 3. 글자 모양대로 배경 잘라내기 (핵심 기술!) */
    color: transparent;             /* 글자색 투명하게 */
    -webkit-background-clip: text;  /* 크롬, 사파리용 */
    background-clip: text;          /* 표준 */
    
    /* 4. 무한 반복 애니메이션 */
    animation: rainbowMove 3s linear infinite;
}

/* 무지개 움직이는 키프레임 */
@keyframes rainbowMove {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}